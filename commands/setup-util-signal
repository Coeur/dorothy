#!/usr/bin/env bash

# https://signal.org/
# https://www.makeuseof.com/install-signal-desktop-linux/

function setup_util_signal() (
	source "$DOROTHY/sources/bash.bash"

	# improve performance
	if test "$*" = '--quiet' && get-app --quiet 'Signal'; then
		return 0
	fi

	# setup
	local options=(
		--app='Signal'
		"$@"
		APT_KEY='https://updates.signal.org/desktop/apt/keys.asc'
		APT_REPO='deb [arch={ARCH} signed-by={KEY}] https://updates.signal.org/desktop/apt xenial main'
		APT='signal-desktop'
		AUR='signal-desktop'
		CASK='signal'
		FLATPAK='org.signal.Signal'
	)
	setup-util "${options[@]}"
)

# fire if invoked standalone
if test "$0" = "${BASH_SOURCE[0]}"; then
	setup_util_signal "$@"
fi
